{% extends "base/base.html" %}

{% block content %}
<script>
    $(document).ready(function(){
        $("#results tr").click(function(){
            var href = $(this).find("a").attr("href");
            if(href) {
                window.location = href;
            }
        });
    });
</script>

<div class="row">
    <h1>
        {{ query }}
        <small>Found : {{ routes_found.count }}</small>
        <hr>
    </h1>
    <table id="results">
        <thead>
            <th></th>
            <th width="300">Origin</th>
            <th width="300">Origin City</th>
            <th width="300">Destination</th>
            <th width="300">Destination City</th>
            <th width="200">Total Distance</th>
            <th width="200">Total Cost</th>
        </thead>
        <tbody>
        {% for r in routes_found %}
            <tr>
                <td><a href="{% url 'view_route' r.id %}"></a></td>
                <td>{{ r.origin|title }}</td>
                <td>{{ r.origin_city|title }}</td>
                <td>{{ r.destination|title }}</td>
                <td>{{ r.destination_city|title }}</td>
                <td>{{ r.total_distance }} KM</td>
                <td>PHP {{ r.total_cost }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}
